<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Naval Ravikant æ·±åº¦è¯æ±‡è®­ç»ƒå™¨</title>
    <style>
        :root {
            --bg-color: #f0f2f5;
            --card-bg: #ffffff;
            --text-main: #2c3e50;
            --text-sub: #7f8c8d;
            --accent: #3498db;
            --success: #27ae60;
        }

        body.dark-mode {
            --bg-color: #1a1a1a;
            --card-bg: #2d2d2d;
            --text-main: #e0e0e0;
            --text-sub: #a0a0a0;
            --accent: #5dade2;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            transition: background-color 0.3s;
        }

        .header {
            display: flex;
            justify-content: space-between;
            width: 100%;
            max-width: 600px;
            align-items: center;
            margin-bottom: 20px;
        }

        .card {
            background: var(--card-bg);
            width: 100%;
            max-width: 600px;
            border-radius: 20px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.12);
            padding: 40px;
            text-align: center;
            position: relative;
            box-sizing: border-box;
            transition: transform 0.2s;
        }

        .word-area {
            margin-bottom: 30px;
            cursor: pointer;
        }

        .word {
            font-size: 3.5rem;
            font-weight: 800;
            margin: 0;
            color: var(--text-main);
            letter-spacing: -1px;
        }

        .phonetic {
            color: var(--text-sub);
            font-family: 'Courier New', monospace;
            margin-top: 10px;
            font-size: 1.2rem;
        }

        .definition-area {
            min-height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-top: 1px solid rgba(0,0,0,0.05);
            padding-top: 20px;
            margin-bottom: 20px;
        }

        .definition {
            font-size: 1.2rem;
            line-height: 1.6;
            margin-bottom: 10px;
            display: none; /* Hidden by default */
        }

        .context {
            font-style: italic;
            color: var(--text-sub);
            font-size: 1rem;
            background: rgba(0,0,0,0.03);
            padding: 10px;
            border-radius: 8px;
            display: none; /* Hidden by default */
        }

        .controls {
            display: grid;
            grid-template-columns: 1fr 2fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        button {
            border: none;
            padding: 15px;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }

        button:active {
            transform: scale(0.96);
        }

        .btn-main { background-color: var(--accent); color: white; }
        .btn-sec { background-color: #e0e0e0; color: #333; }
        .btn-voice { background: none; border: 2px solid var(--accent); color: var(--accent); box-shadow: none; }
        
        .progress-bar {
            width: 100%;
            height: 6px;
            background-color: #ddd;
            border-radius: 3px;
            margin-top: 30px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background-color: var(--success);
            width: 0%;
            transition: width 0.3s ease;
        }

        .stats {
            margin-top: 10px;
            font-size: 0.9rem;
            color: var(--text-sub);
        }

        /* Import Section */
        .import-section {
            margin-top: 40px;
            text-align: center;
            border-top: 1px dashed #ccc;
            padding-top: 20px;
            width: 100%;
            max-width: 600px;
        }
        
        textarea {
            width: 100%;
            height: 100px;
            margin-top: 10px;
            border-radius: 8px;
            border: 1px solid #ccc;
            padding: 10px;
            font-family: monospace;
        }

    </style>
</head>
<body>

    <div class="header">
        <h2 style="margin:0;">Naval's Lexicon</h2>
        <button onclick="toggleTheme()" style="padding: 5px 15px; font-size: 0.8rem;">ğŸŒ“ æ¨¡å¼åˆ‡æ¢</button>
    </div>

    <div class="card">
        <div class="word-area" onclick="playAudio()">
            <h1 id="word" class="word">Loading...</h1>
            <div class="phonetic">ğŸ”Š ç‚¹å‡»å‘éŸ³</div>
        </div>

        <div class="definition-area">
            <div id="definition" class="definition"></div>
            <div id="context" class="context"></div>
            <div id="mask" style="color:var(--text-sub); font-size:0.9rem;">(ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®æ˜¾ç¤ºé‡Šä¹‰)</div>
        </div>

        <div class="controls">
            <button class="btn-sec" onclick="prevWord()">â† ä¸Šä¸€ä¸ª</button>
            <button class="btn-main" onclick="toggleReveal()" id="revealBtn">æ˜¾ç¤ºé‡Šä¹‰</button>
            <button class="btn-sec" onclick="nextWord()">ä¸‹ä¸€ä¸ª â†’</button>
        </div>

        <div class="progress-bar">
            <div id="progressFill" class="progress-fill"></div>
        </div>
        <div class="stats">
            è¿›åº¦: <span id="current">0</span> / <span id="total">0</span>
        </div>
    </div>

    <div class="import-section">
        <details>
            <summary style="cursor:pointer; color: var(--accent);">ğŸ› ï¸ é«˜çº§åŠŸèƒ½ï¼šå¯¼å…¥è‡ªå®šä¹‰è¯åº“ (JSONæ ¼å¼)</summary>
            <p style="font-size: 0.8rem; color: #666; text-align: left;">
                æƒ³è¦å­¦ä¹ è§†é¢‘é‡Œçš„æ‰€æœ‰å•è¯ï¼Ÿä½ å¯ä»¥å°†å­—å¹•æ¸…æ´—åï¼Œæ•´ç†æˆå¦‚ä¸‹JSONæ ¼å¼ç²˜è´´åœ¨ä¸‹é¢ï¼Œç„¶åç‚¹å‡»â€œåŠ è½½æ•°æ®â€ã€‚
            </p>
            <textarea id="jsonInput" placeholder='[{"word": "Example", "meaning": "ç¤ºä¾‹", "context": "This is an example sentence."}]'></textarea>
            <br>
            <button class="btn-main" style="margin-top:10px;" onclick="loadCustomData()">åŠ è½½è‡ªå®šä¹‰æ•°æ®</button>
        </details>
    </div>

    <script>
        // --- æ ¸å¿ƒè¯åº“ (Naval Ravikant å¸¸ç”¨è¯ç²¾é€‰) ---
        const defaultData = [
            { word: "Leverage", meaning: "æ æ†ï¼›å½±å“åŠ›", context: "Give me a lever long enough and I shall move the world." },
            { word: "Compounding", meaning: "å¤åˆ©ï¼›å¤åˆ", context: "All the returns in life, whether in wealth, relationships, or knowledge, come from compound interest." },
            { word: "Authenticity", meaning: "çœŸå®æ€§ï¼›æœ¬çœŸ", context: "Escape competition through authenticity." },
            { word: "Specific Knowledge", meaning: "ä¸“æœ‰çŸ¥è¯†", context: "Specific knowledge is knowledge that you cannot be trained for." },
            { word: "Uncountable", meaning: "ä¸å¯æ•°çš„ï¼›æ— æ•°çš„", context: "There are uncountable ways to achieve wealth." },
            { word: "Status Game", meaning: "åœ°ä½æ¸¸æˆ", context: "Ignore the status game to play the wealth game." },
            { word: "Zero-sum", meaning: "é›¶å’Œï¼ˆåšå¼ˆï¼‰", context: "Status is a zero-sum game. Wealth is a positive-sum game." },
            { word: "Rational", meaning: "ç†æ€§çš„", context: "Rationality is the ability to see the world as it is, not as you want it to be." },
            { word: "Pessimism", meaning: "æ‚²è§‚ä¸»ä¹‰", context: "Optimism is a skill. Pessimism is a default." },
            { word: "Trajectory", meaning: "è½¨è¿¹ï¼›å‘å±•è·¯å¾„", context: "Trajectory is more important than position." },
            { word: "Sovereignty", meaning: "ä¸»æƒï¼›ç‹¬ç«‹è‡ªä¸»", context: "Self-sovereignty is the ultimate goal." },
            { word: "Validation", meaning: "è®¤å¯ï¼›éªŒè¯", context: "Seeking external validation is a trap." },
            { word: "Iterate", meaning: "è¿­ä»£ï¼›é‡å¤", context: "Iterate on your product, iterate on your life." },
            { word: "Accountability", meaning: "é—®è´£ï¼›è´£ä»»", context: "Embrace accountability to get leverage." },
            { word: "Judgment", meaning: "åˆ¤æ–­åŠ›", context: "Judgment is the decisive skill in the modern age." },
            { word: "Permissonless", meaning: "æ— éœ€è®¸å¯çš„", context: "Code and media are permissionless leverage." },
            { word: "Abundance", meaning: "å¯Œè¶³ï¼›ä¸°å¯Œ", context: "We live in an age of infinite leverage and abundance." },
            { word: "Scarcity", meaning: "ç¨€ç¼º", context: "Scarcity mindset limits your growth." },
            { word: "Nihilism", meaning: "è™šæ— ä¸»ä¹‰", context: "Optimistic nihilism: Nothing matters, so create your own meaning." },
            { word: "Solitude", meaning: "ç‹¬å¤„", context: "You must be comfortable in solitude to know yourself." },
            { word: "Paradox", meaning: "æ‚–è®º", context: "The paradox of wealth is that you need to not care about money to make it." },
            { word: "Curiosity", meaning: "å¥½å¥‡å¿ƒ", context: "Follow your genuine intellectual curiosity." },
            { word: "Meditation", meaning: "å†¥æƒ³", context: "Meditation is intermittent fasting for the mind." },
            { word: "Anxiety", meaning: "ç„¦è™‘", context: "Anxiety is a lack of presence." },
            { word: "Incentive", meaning: "æ¿€åŠ±ï¼›åŠ¨æœº", context: "Understanding incentives is the key to understanding human behavior." }
        ];

        let vocabulary = [...defaultData];
        let currentIndex = 0;
        let isRevealed = false;

        // --- åˆå§‹åŒ– ---
        document.addEventListener('DOMContentLoaded', () => {
            renderCard();
        });

        // --- æ ¸å¿ƒé€»è¾‘ ---
        function renderCard() {
            const item = vocabulary[currentIndex];
            document.getElementById('word').innerText = item.word;
            document.getElementById('definition').innerText = item.meaning;
            document.getElementById('context').innerText = `"${item.context}"`;
            
            // é‡ç½®çŠ¶æ€
            isRevealed = false;
            document.getElementById('definition').style.display = 'none';
            document.getElementById('context').style.display = 'none';
            document.getElementById('mask').style.display = 'block';
            document.getElementById('revealBtn').innerText = 'æ˜¾ç¤ºé‡Šä¹‰';
            
            updateStats();
        }

        function toggleReveal() {
            const def = document.getElementById('definition');
            const ctx = document.getElementById('context');
            const mask = document.getElementById('mask');
            const btn = document.getElementById('revealBtn');

            if (!isRevealed) {
                def.style.display = 'block';
                ctx.style.display = 'block';
                mask.style.display = 'none';
                btn.innerText = 'éšè—é‡Šä¹‰';
                playAudio(); // Auto play audio on reveal
            } else {
                def.style.display = 'none';
                ctx.style.display = 'none';
                mask.style.display = 'block';
                btn.innerText = 'æ˜¾ç¤ºé‡Šä¹‰';
            }
            isRevealed = !isRevealed;
        }

        function nextWord() {
            if (currentIndex < vocabulary.length - 1) {
                currentIndex++;
                renderCard();
            } else {
                alert("æœ¬è½®è¯æ±‡å·²å­¦å®Œï¼å³å°†é‡æ–°å¼€å§‹ã€‚");
                currentIndex = 0;
                renderCard();
            }
        }

        function prevWord() {
            if (currentIndex > 0) {
                currentIndex--;
                renderCard();
            }
        }

        function updateStats() {
            document.getElementById('current').innerText = currentIndex + 1;
            document.getElementById('total').innerText = vocabulary.length;
            const percentage = ((currentIndex + 1) / vocabulary.length) * 100;
            document.getElementById('progressFill').style.width = percentage + '%';
        }

        // --- è¾…åŠ©åŠŸèƒ½ ---
        function playAudio() {
            const word = vocabulary[currentIndex].word;
            const utterance = new SpeechSynthesisUtterance(word);
            utterance.lang = 'en-US';
            utterance.rate = 0.9;
            window.speechSynthesis.speak(utterance);
        }

        function toggleTheme() {
            document.body.classList.toggle('dark-mode');
        }

        function loadCustomData() {
            const input = document.getElementById('jsonInput').value;
            try {
                const parsed = JSON.parse(input);
                if (Array.isArray(parsed) && parsed.length > 0 && parsed[0].word) {
                    vocabulary = parsed;
                    currentIndex = 0;
                    alert(`æˆåŠŸåŠ è½½ ${parsed.length} ä¸ªæ–°å•è¯ï¼`);
                    renderCard();
                    document.getElementById('jsonInput').value = ''; // clear
                } else {
                    throw new Error("æ ¼å¼ä¸å¯¹");
                }
            } catch (e) {
                alert("JSON æ ¼å¼é”™è¯¯ã€‚è¯·ç¡®ä¿æ ¼å¼ä¸º: [{\"word\":\"hello\", \"meaning\":\"ä½ å¥½\", \"context\":\"...\"}]");
            }
        }
    </script>
</body>
</html>